<%- include('header'); -%>
<main class="container">
  <div class="row g-5">
    <div class="col-md-8 offset-md-2">
      <% if (post.id) { %>
        <%- include ('modal', { post: post }); -%>
      <% } %>
      <form method="POST" action="/update">
          <input type="hidden" name="id" value="<%=post.id%>">
        <div class="mb-3">
          <button type="button" class="btn btn-primary"  onclick="history.back()" > < </button>
          <label for="exampleFormControlInput1" class="form-label ms-2 ">Post title</label>
          <input type="text" required pattern="\S(.*\S)?" class="form-control mt-3" id="exampleFormControlInput1" placeholder="Title" name = "title" value = "<%=post.title%>">
        </div>
        <div class="mb-3">
          <label for="exampleFormControlTextarea1" class="form-label">Text</label>
          <textarea class="form-control" id="exampleFormControlTextarea1" rows="7" name = "text" required pattern="\S(.*\S)?"><%=post.text%></textarea>
        </div>

        <div class="float-end">
          <button type="submit" class="btn btn-primary">Submit</button>
          <% if (post.id) { %>
            <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#deleteModal<%=post.id%>">
              Delete
            </button>
          <% } %>
        </div>
      </form>
    </div>
  </div>

</main>

<%- include('footer'); -%>
